<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Love Finder</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../data/friends.js"></script>
  <style> body {background-color: pink;} </style> 

</head>

<body>

  <div class="container mt-5">
  <div class="jumbotron">
  <div class="text-center">
  <h1><span class="fa fa-heart"></span> Love Match Quiz</h1>
  <hr>
  <h5 class="font-italic">All fields are required</h5>
  </div>

  <form name="formSurvey">
  <h3>About You</h3>
  <div class="form-group">
  <label for="name">Name</label>
  <input type="name" class="form-control" id="name" aria-describedby="YourName"
  placeholder="Your Name">
  </div>
  <div class="form-group">
  <label for="pic">Picture</label>
  <input type="pic" class="form-control" id="pic" aria-describedby="Pic"
  placeholder="Link to a picture of you">
  <br>
  <small id="noShare" class="form-text text-muted text-center font-italic">We'll never share your information anyone
  else. For the questions below, 1 is strongly disagree and 5 is strongly agree.</small>
  </div>

  <div id="survey">

    <!-- Question1 -->
  <label for="Q1">I believe in love at first sight.</label> <br>
  <div class="form-group">
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="radio" name="inlineRadioOptions1" id="inlineRadio1-1"
    value="1">
    <label class="form-check-label" for="inlineRadio1-1">1</label>
  </div>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="radio" name="inlineRadioOptions1" id="inlineRadio2-1"
    value="2">
    <label class="form-check-label" for="inlineRadio2-1">2</label>
  </div>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="radio" name="inlineRadioOptions1" id="inlineRadio3-1"
    value="3">
    <label class="form-check-label" for="inlineRadio3-1">3</label>
  </div>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="radio" name="inlineRadioOptions1" id="inlineRadio4-1"
    value="4">
    <label class="form-check-label" for="inlineRadio4-1">4</label>
  </div>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="radio" name="inlineRadioOptions1" id="inlineRadio5-1"
    value="5">
    <label class="form-check-label" for="inlineRadio5-1">5</label>
  </div><br>
  </div>

      <!-- Question2 -->
  <label for="Q2">You'll find me home enjoying the quiet on the weekends.</label> <br>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="radio" name="inlineRadioOptions2" id="inlineRadio1-2"
    value="1">
    <label class="form-check-label" for="inlineRadio1-2">1</label>
  </div>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="radio" name="inlineRadioOptions2" id="inlineRadio2-2"
    value="2">
    <label class="form-check-label" for="inlineRadio2-2">2</label>
  </div>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="radio" name="inlineRadioOptions2" id="inlineRadio3-2"
    value="3">
    <label class="form-check-label" for="inlineRadio3-2">3</label>
  </div>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="radio" name="inlineRadioOptions2" id="inlineRadio4-2"
    value="4">
    <label class="form-check-label" for="inlineRadio4-2">4</label>
  </div>
  <div class="form-check form-check-inline">
    <input class="form-check-input" type="radio" name="inlineRadioOptions2" id="inlineRadio5-2"
    value="5">
    <label class="form-check-label" for="inlineRadio5-2">5</label>
  </div><br>
  <br>

    <!-- Question3 -->
    <label for="Q3">Working out is an important part of my routine.</label> <br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions3" id="inlineRadio1-3"
        value="1">
        <label class="form-check-label" for="inlineRadio1-3">1</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions3" id="inlineRadio2-3"
        value="2">
        <label class="form-check-label" for="inlineRadio2-3">2</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions3" id="inlineRadio3-3"
        value="3">
        <label class="form-check-label" for="inlineRadio3-3">3</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions3" id="inlineRadio4-3"
        value="4">
        <label class="form-check-label" for="inlineRadio4-3">4</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions3" id="inlineRadio5-3"
        value="5">
        <label class="form-check-label" for="inlineRadio5-3">5</label>
    </div><br>
    <br>

    <!-- Question4 -->
    <label for="Q4">I prefer being in the outdoors for my leisure activities.</label> <br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions4" id="inlineRadio1-4"
        value="1">
        <label class="form-check-label" for="inlineRadio1-4">1</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions4" id="inlineRadio2-4"
        value="2">
        <label class="form-check-label" for="inlineRadio2-4">2</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions4" id="inlineRadio3-4"
        value="3">
        <label class="form-check-label" for="inlineRadio3-4">3</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions4" id="inlineRadio4-4"
        value="4">
        <label class="form-check-label" for="inlineRadio4-4">4</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions4" id="inlineRadio5-4"
        value="5">
        <label class="form-check-label" for="inlineRadio5-4">5</label>
    </div><br>
    <br>

    <!-- Question5 -->
    <label for="Q5">I love to sleep in the weekends.</label> <br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions5" id="inlineRadio1-5"
        value="1">
        <label class="form-check-label" for="inlineRadio1-5">1</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions5" id="inlineRadio2-5"
        value="2">
        <label class="form-check-label" for="inlineRadio2-5">2</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions5" id="inlineRadio3-5"
        value="3">
        <label class="form-check-label" for="inlineRadio3-5">3</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions5" id="inlineRadio4-5"
        value="4">
        <label class="form-check-label" for="inlineRadio4-5">4</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions5" id="inlineRadio5-5"
        value="5">
        <label class="form-check-label" for="inlineRadio5-5">5</label>
    </div><br>
    <br>

    <!-- Question6 -->
    <label for="Q6">My work is a very important part of my life.</label> <br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions6" id="inlineRadio1-6"
        value="1">
        <label class="form-check-label" for="inlineRadio1-6">1</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions6" id="inlineRadio2-6"
        value="2">
        <label class="form-check-label" for="inlineRadio2-6">2</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions6" id="inlineRadio3-6"
        value="3">
        <label class="form-check-label" for="inlineRadio3-6">3</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions6" id="inlineRadio4-6"
        value="4">
        <label class="form-check-label" for="inlineRadio4-6">4</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions6" id="inlineRadio5-6"
        value="5">
        <label class="form-check-label" for="inlineRadio5-6">5</label>
    </div><br>
    <br>

    <!-- Question7 -->
    <label for="Q7">Music helps me to relax.</label> <br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions7" id="inlineRadio1-7"
        value="1">
        <label class="form-check-label" for="inlineRadio1-7">1</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions7" id="inlineRadio2-7"
        value="2">
        <label class="form-check-label" for="inlineRadio2-7">2</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions7" id="inlineRadio3-7"
        value="3">
        <label class="form-check-label" for="inlineRadio3-7">3</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions7" id="inlineRadio4-7"
        value="4">
        <label class="form-check-label" for="inlineRadio4-7">4</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions7" id="inlineRadio5-7"
        value="5">
        <label class="form-check-label" for="inlineRadio5-7">5</label>
    </div><br>
    <br>

    <!-- Question8 -->
    <label for="Q8">I prefer making a homecooked meal to going out.</label> <br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions8" id="inlineRadio1-8"
        value="1">
        <label class="form-check-label" for="inlineRadio1-8">1</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions8" id="inlineRadio2-8"
        value="2">
        <label class="form-check-label" for="inlineRadio2-8">2</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions8" id="inlineRadio3-8"
        value="3">
        <label class="form-check-label" for="inlineRadio3-8">3</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions8" id="inlineRadio4-8"
        value="4">
        <label class="form-check-label" for="inlineRadio4-8">4</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions8" id="inlineRadio5-8"
        value="5">
        <label class="form-check-label" for="inlineRadio5-8">5</label>
    </div><br>
    <br>

    <!-- Question9 -->
    <label for="Q9">When I go out, I am the life of the party.</label> <br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions9" id="inlineRadio1-9"
        value="1">
        <label class="form-check-label" for="inlineRadio1-9">1</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions9" id="inlineRadio2-9"
        value="2">
        <label class="form-check-label" for="inlineRadio2-9">2</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions9" id="inlineRadio3-9"
        value="3">
        <label class="form-check-label" for="inlineRadio3-9">3</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions9" id="inlineRadio4-9"
        value="4">
        <label class="form-check-label" for="inlineRadio4-9">4</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions9" id="inlineRadio5-9"
        value="5">
        <label class="form-check-label" for="inlineRadio5-9">5</label>
    </div><br>
    <br>

    <!-- Question10 -->
    <label for="Q10">I prefer going to tried and true vacation locations over risking it on a new place.</label> <br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions10" id="inlineRadio1-10"
        value="1">
        <label class="form-check-label" for="inlineRadio1-10">1</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions10" id="inlineRadio2-10"
        value="2">
        <label class="form-check-label" for="inlineRadio2-10">2</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions10" id="inlineRadio3-10"
        value="3">
        <label class="form-check-label" for="inlineRadio3-10">3</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions10" id="inlineRadio4-10"
        value="4">
        <label class="form-check-label" for="inlineRadio4-10">4</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions10" id="inlineRadio5-10"
        value="5">
        <label class="form-check-label" for="inlineRadio5-10">5</label>
    </div><br>
    <br>

   </div> 
   <button type="submit" class="btn btn-secondary" id="submitBtn">Submit</button>
</div>
</form>
</div>

</body>

</html>

<script type="text/javascript">
    $("#submitBtn").on("click", function() {
      event.preventDefault();

        var Q1 = document.getElementsByName('inlineRadioOptions1');
        var q1Val;
        for (var i = 0, length = Q1.length; i < length; i++){
            if (Q1[i].checked){
            q1Val = (Q1[i].value);
            break; //stop validating once you've found the checked radio button
            }
        } 
        var Q2 = document.getElementsByName('inlineRadioOptions2');
        var q2Val;
        for (var i = 0, length = Q2.length; i < length; i++){
            if (Q2[i].checked){
            q2Val = (Q2[i].value);
            break; 
            }
        } 
        var Q3 = document.getElementsByName('inlineRadioOptions2');
        var q3Val;
        for (var i = 0, length = Q3.length; i < length; i++){
            if (Q3[i].checked){
            q3Val = (Q3[i].value);
            break; 
            }
        } 
        var Q4 = document.getElementsByName('inlineRadioOptions4');
        var q4Val;
        for (var i = 0, length = Q4.length; i < length; i++){
            if (Q4[i].checked){
            q4Val = (Q4[i].value);
            break; 
            }
        }
        var Q5 = document.getElementsByName('inlineRadioOptions5');
        var q5Val;
        for (var i = 0, length = Q5.length; i < length; i++){
            if (Q5[i].checked){
            q5Val = (Q5[i].value);
            break; 
            }
        }
        var Q6 = document.getElementsByName('inlineRadioOptions6');
        var q6Val;
        for (var i = 0, length = Q6.length; i < length; i++){
            if (Q6[i].checked){
            q6Val = (Q6[i].value);
            break; 
            }
        }
        var Q7 = document.getElementsByName('inlineRadioOptions7');
        var q7Val;
        for (var i = 0, length = Q7.length; i < length; i++){
            if (Q7[i].checked){
            q7Val = (Q7[i].value);
            break; 
            }
        }
        var Q8 = document.getElementsByName('inlineRadioOptions8');
        var q8Val;
        for (var i = 0, length = Q8.length; i < length; i++){
            if (Q8[i].checked){
            q8Val = (Q8[i].value);
            break; 
            }
        }
        var Q9 = document.getElementsByName('inlineRadioOptions9');
        var q9Val;
        for (var i = 0, length = Q9.length; i < length; i++){
            if (Q9[i].checked){
            q9Val = (Q9[i].value);
            break; 
            }
        }
        var Q10 = document.getElementsByName('inlineRadioOptions10');
        var q10Val;
        for (var i = 0, length = Q10.length; i < length; i++){
            if (Q10[i].checked){
            q10Val = (Q10[i].value);
            break; 
            }
        }

        var newDate = {
         "name": document.getElementById('name').value,
         "pic": document.getElementById('pic').value,
         "scores":[
            q1Val,
            q2Val,
            q3Val,
            q4Val,
            q5Val,
            q6Val,
            q7Val,
            q8Val,
            q9Val,
            q10Val
            ]                    
       };
        
        console.log(newDate);
       $.post("/api/surveyRes", newDate)
         .then(function(data) {
           console.log("New potential Date submitted!");
        });
        compare (newDate);
    });   

    var dates = [
        {
        "name":"Seth Rogen",
        "photo":"https://www.thewrap.com/wp-content/uploads/2016/04/Seth-Rogen-Pineapple-Express.jpg",
        "scores":[
            5,
            1,
            4,
            4,
            5,
            1,
            2,
            5,
            4,
            1
            ]
        },
        {
        "name":"Chris Farley",
        "photo":"https://milwaukeerecord.com/wp-content/uploads/2018/01/TommyBoyScreening.jpg",
        "scores":[
            5,
            1,
            4,
            4,
            5,
            5,
            5,
            5,
            5,
            5
            ]
        },
        {
        "name":"Aziz Ansari",
        "photo":"https://cimg.tvgcdn.net/i/r/2019/07/09/d2fe2aa3-c777-45f3-90ce-ec1b372adf82/resize/1800x1200/1afcdc8c77ffeb734d7f30213b5e4f01/aziz-ansari-reg.jpg",
        "scores":[
            5,
            1,
            1,
            1,
            1,
            1,
            2,
            3,
            4,
            5
            ]
        },
        {
        "name":"Amy Schumer",
        "photo":"https://img.thedailybeast.com/image/upload/v1552695641/190317-fallon-AmySchumer-Growing-embed-2_zrgfes.jpg",
        "scores":[
            1,
            2,
            3,
            4,
            5,
            5,
            4,
            3,
            2,
            1
            ]
        }

    ];

    var matchIndex=0;
    var matchScore;

    function compare (newDate){
        var diffVar;
        for (var i=0;i<dates.length; i++){
            console.log('in1: ' + i);
            diffVar=0;
            console.log("dates[i].scores = "+dates[i].scores)
            for(var j=0;j<dates[i].scores.length; j++){
                console.log("in2: " + j);
                var tempDif=Math.abs(dates[i].scores[j]-newDate.scores[j]);
                diffVar=diffVar+tempDif
                console.log("diffVar:" + diffVar);
            }
            if(i==0){
                matchScore=diffVar;
                console.log("matchScore: "+matchScore);
                console.log("matchIndex: "+matchIndex);
            }else if (diffVar<matchScore){
                matchScore=diffVar;
                matchIndex=i;
                console.log("matchScore: "+ matchScore);
                console.log("matchIndex: "+matchIndex);
            }
        }
        console.log("Final matchScore: "+ matchScore);
        console.log("Final matchIndex: "+matchIndex);
    }
  

    

  </script>

 <!-- 
//     To dos:
//     1. console log responses DONE
//     2. restrict submission to check all fields are filled in - thinking I can do this when I compare values??
//     3. send response to api
//     4. compare values of this input with all other values and return the information for the form 
//     resposne with the lowest absolute value

//  -->



